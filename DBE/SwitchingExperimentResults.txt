********************* start experiment  1  *********************
start experiment 1
experiment  1 has  717248 NRZ words and  358624.0 PAM4 words

#1 NRZ-DBI
01110000
  encoded to  [1, 0, 0, 0, 1, 1, 1, 1]
first data:  [1, 0, 0, 0, 1, 1, 1, 1]
PAM4 data =
[0, 1, 1, 1, 0, 0, 0, 0]
[1, 1, 1, 0, 1, 1, 0, 0]
Origin Flags:  [2, 3, 1, 2]
#2 PAM4-DBI
encoded to  [[1, 0, 0, 0, 1, 1, 1, 1], [0, 0, 0, 1, 0, 0, 1, 1]]
first cycle
first prev =  [[1, 0, 0, 0, 1, 1, 1, 1], [0, 0, 0, 1, 0, 0, 1, 1]]
#3 PAM4-MF
maxIndex =  1
encoded to  [[1, 0, 0, 1, 1, 1, 0, 0], [1, 1, 1, 0, 1, 1, 0, 0]]
#4 PAM4-Sort
origin,  [[0, 1, 1, 1, 0, 0, 0, 0], [1, 1, 1, 0, 1, 1, 0, 0]]
first, encoded to  [[1, 1, 1, 0, 1, 1, 0, 0], [1, 0, 0, 0, 1, 1, 1, 1]]

#1 NRZ-DBI
11101100
  nothing has been changed
prev_NRZ = [1, 0, 0, 0, 1, 1, 1, 1]
current_NRZ =  [1, 1, 1, 0, 1, 1, 0, 0]
newCharging =  2

#1 NRZ-DBI
00000110
  encoded to  [1, 1, 1, 1, 1, 0, 0, 1]
prev_NRZ = [1, 1, 1, 0, 1, 1, 0, 0]
current_NRZ =  [1, 1, 1, 1, 1, 0, 0, 1]
newCharging =  2
PAM4 data =
[0, 0, 0, 0, 0, 1, 1, 0]
[0, 0, 0, 0, 0, 0, 0, 0]
Origin Flags:  [6, 0, 2, 0]
#2 PAM4-DBI
encoded to  [[1, 1, 1, 1, 1, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 1]]
prev_PAM4_2 =  [[1, 1, 1, 1, 1, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 1]]
current_PAM4_2 =  [[1, 1, 1, 1, 1, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 1]]
newCharging_2 =  1.6666666666666665
#3 PAM4-MF
maxIndex =  0
encoded to  [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
prev_PAM4_3 =  [[1, 0, 0, 1, 1, 1, 0, 0], [1, 1, 1, 0, 1, 1, 0, 0]]
current_PAM4_3 =  [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
newCharging_3 =  1.6666666666666665
prev_PAM4_4 =  [[1, 1, 1, 0, 1, 1, 0, 0], [1, 0, 0, 0, 1, 1, 1, 1]]
current_PAM4_4 =  [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
newCharging_4 =  1.3333333333333333
PAM4 data =
[1, 0, 0, 0, 1, 1, 0, 0]
[0, 0, 0, 0, 0, 1, 1, 0]
Origin Flags:  [4, 1, 2, 1]
#2 PAM4-DBI
encoded to  [[0, 1, 1, 1, 0, 0, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
prev_PAM4_2 =  [[0, 1, 1, 1, 0, 0, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
current_PAM4_2 =  [[0, 1, 1, 1, 0, 0, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
newCharging_2 =  0.16666666666666666
#3 PAM4-MF
maxIndex =  0
encoded to  [[1, 1, 1, 1, 1, 0, 0, 1], [0, 1, 1, 1, 0, 0, 1, 1]]
prev_PAM4_3 =  [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
current_PAM4_3 =  [[1, 1, 1, 1, 1, 0, 0, 1], [0, 1, 1, 1, 0, 0, 1, 1]]
newCharging_3 =  0
prev_PAM4_4 =  [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 0, 0, 1]]
current_PAM4_4 =  [[1, 1, 1, 1, 1, 0, 0, 1], [0, 1, 1, 1, 0, 0, 1, 1]]
newCharging_4 =  0
######################### Result  1 #########################
power_ratio_1 = 1.1182680169653785 %
power_ratio_2 = 1.5422865733073288 %
power_ratio_3 = 1.443704483574702 %
power_ratio_4 = 1.2582172306200916 %
total number [00]:  2802983   /  [01]:  24957   /  [10]:  20495   /  [11]:  20557 

if we calculate as a percentage,
total number [00]:  97.69922676675293 %  /  [01]:  0.8698874029624342 %  /  [10]:  0.7143623962701883 %  /  [11]:  0.7165234340144553 %



******************  SWITCHING POWER  ******************



NRZ-DBI Power =  44898  *  8.626735280872558e-08  =  0.0038732316064061614 W
PAM4-DBI Power =  10683.666666666786  *  1.725349461690968e-07  =  0.001843305853221928 W
PAM4-MF Power =  10933.16666666661  *  1.725349461690968e-07  =  0.0018863533222910872 W
PAM4-Sort Power =  8877.833333333369  *  1.725349461690968e-07  =  0.001531736496264886 W





clear
